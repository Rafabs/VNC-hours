<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Escalas de VeÃ­culos - Tabela HorÃ¡ria</title>
    <link rel="stylesheet" href="css/tabela_horaria.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>
    <div class="container">
        <h1>ğŸšŒ Sistema de Escalas de VeÃ­culos - Tabela HorÃ¡ria</h1>

        <div class="filters">
            <h3>ğŸ“… Configurar Escala</h3>
            <label>Data da Escala: <input type="date" id="dataEscala" required
                    onchange="atualizarPreviewNomeArquivo()"></label>
            <label>Tipo de Dia:
                <select id="tipoDia" onchange="atualizarPreviewNomeArquivo()">
                    <option value="semana">Dia de Semana (Seg-Sex)</option>
                    <option value="sabado">SÃ¡bado</option>
                    <option value="domingo_feriado">Domingo/Feriado</option>
                </select>
            </label>
            <label>Filtrar por Garagem:
                <select id="filtroGaragem">
                    <option value="">Todas as Garagens</option>
                    <option value="VILA NOVA CACHOEIRINHA">Vila Nova Cachoeirinha</option>
                </select>
            </label>

            <div class="filename-preview">
                <strong>Arquivo serÃ¡ salvo como:</strong><br>
                <span id="previewNomeArquivo">selecione_uma_data</span><span style="color: #666;">.json</span>
            </div>

            <button class="btn-primary" onclick="carregarEscalaPredefinida()">ğŸ”„ Carregar Tabela HorÃ¡ria</button>
            <button class="btn-warning" onclick="limparEscala()">ğŸ—‘ï¸ Limpar Escala</button>
            <button class="btn-success" onclick="atribuicaoAutomatica()">ğŸ² AtribuiÃ§Ã£o AutomÃ¡tica</button>
        </div>

        <div class="auto-assign-section">
            <h3>âš¡ AtribuiÃ§Ã£o de VeÃ­culos</h3>
            <p>Baseado na tabela horÃ¡ria para <strong id="tipoDiaAtual">Dia de Semana</strong></p>
            <button class="btn-info" onclick="verificarDisponibilidade()">ğŸ” Verificar Disponibilidade</button>
        </div>

        <div class="tab-container">
            <div class="tab-buttons">
                <button class="tab-button" onclick="abrirTab('tab-escala')">âœï¸ Atribuir VeÃ­culos</button>
            </div>

            <div id="tab-horarios" class="tab-content active">
                <h3>ğŸ•’ Tabela HorÃ¡ria para <span id="tituloTipoDia">Dia de Semana</span></h3>
                <div id="listaHorariosPredefinidos"></div>
            </div>

            <div id="tab-escala" class="tab-content">
                <h3>âœï¸ AtribuiÃ§Ã£o de VeÃ­culos</h3>
                <div id="linhasContainer"></div>
            </div>

            <div id="tab-relatorio" class="tab-content">
                <h3>ğŸ“Š RelatÃ³rio da Escala</h3>
                <div id="relatorioContainer"></div>
            </div>

        </div>
        <div class="filename-preview">
            <strong>Arquivo serÃ¡ salvo como:</strong><br>
            <span id="previewNomeArquivo">selecione_uma_data</span><span style="color: #666;">.json</span>
        </div>

        <div style="margin-top: 20px; text-align: center;">
            <button class="btn-success" onclick="salvarEscala()">ğŸ’¾ Salvar Escala</button>
            <button class="btn-info" onclick="exportarJSON()">ğŸ“¤ Exportar JSON</button>
            <button class="btn-cartoes" onclick="mostrarInfoExportacao()">ğŸ–¨ï¸ Gerar CartÃµes de VeÃ­culos</button>
            <button class="btn-indisponivel" onclick="gerenciarVeiculosIndisponiveis()">ğŸš« Gerenciar VeÃ­culos IndisponÃ­veis</button>            
        </div>
    </div>

    <script src="js/tabela_horaria.js"></script>
</body>

</html>